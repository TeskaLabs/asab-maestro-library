define:
  type: rc/descriptor
  name: ASAB Library

descriptor:
  image: docker.teskalabs.com/asab/asab-library

  volumes:
    # For a persistency of the configuration
    - "{{SITE}}/{{INSTANCE_ID}}/conf:/conf:ro"

  environment:
    ASAB_ZOOKEEPER_SERVERS: "{{ZOOKEEPER_SERVERS}}"

  # This is critical service
  restart: always

asab:
  configname: conf/asab-library.conf
  config: {}

api:
  private:
    port: 8893  # The REST API is at tcp/8893
    upstream: true

nginx:
  https:
  - api:
      port: 8893  # The REST API is at tcp/8893
      upstream: true
