define:
  type: rc/descriptor
  name: MongoDB document database
  url: https://github.com/mongodb/mongo

descriptor:
  image: library/mongo

  volumes:
    - "{{SLOW_STORAGE}}/{{INSTANCE_ID}}/data:/data/db"
    - "{{SITE}}/{{INSTANCE_ID}}/conf:/etc/mongo:ro"
    - "{{SITE}}/{{INSTANCE_ID}}/mongo:/script:ro"

  command: mongod --config /etc/mongo/mongod.conf

files:
# This is confusing - I can EITHER specify FOLDER in /Files/... dir OR write a FILE directly, I was trying to specify unique files from /Files
  - "conf/mongod.conf": |
      net:
        bindIp: 0.0.0.0
        port: 27017
      replication:
        replSetName: rs0

  - "mongo"
  - "mongo/new-config.json": null  # mongo/new_config.json is added by ASAB Remote Control
