define:
  type: rc/descriptor
  name: ASAB Remote Control

descriptor:
  # The REST API is at tcp/8891

  image: docker.teskalabs.com/asab/asab-remote-control

  volumes:
    # For a persistency of the configuration
    - "{{SITE}}/{{INSTANCE_ID}}/conf:/conf:ro"

  # This is critical service
  restart: always

asab:
  configname: conf/asab-remote-control.conf
  config: &config {}  # specify default configuration of the service

asab-config:
  General:
    __schema__:
      file: asab-config/General/__schema__.json
    config.json:
      file: {}
      if_not_exists: true
  asab-remote-control:
    __schema__:
      file: {}
    config: 
      file:
        *config  # transfer the default configuration to ASAB Config if there is no configuration set for the service, yet
      if_not_exists: true

nginx:
  api: 8891
